<?xml version="1.0" encoding="UTF-8"?>
<Materials>

<!-- REFERENCE MATERIAL -->
  <Reference_Material Lambda0="60.58e9" Mu0="40.39e9"/>

<!-- MATERIAL 1: void -->
  <Material numM="1" Lib="behavior/libUmatAmitex.so" Law="elasisoPF" >
    <Coeff Index="1" Type="Constant" Value="0"/>
    <Coeff Index="2" Type="Constant" Value="0"/>
    <Coeff Index="3" Type="Constant" Value="0"/>      <!--viscous parameter [Pa*s] -->
    <Coeff Index="4" Type="Constant" Value="0.015e-3"/>   <!--characteristic length, lc [m] -->
    <Coeff Index="5" Type="Constant" Value="2.7e3"/>  <!--fracture energy, gc [N/m]-->

    <!--define the initial values of internal variables-->
    <IntVar Index="1" Type="Constant" Value="0."/> <!--damage variable-->
    <IntVar Index="2" Type="Constant" Value="0."/> <!--history variable (output umat)-->
    <IntVar Index="3" Type="Constant" Value="0."/> <!--history variable (max value)-->

    <!--Indices of non local variables nloc and coefficients for the Non local model -->
    <IndexVarNloc   NLocMod_num="1"> 1 2     </IndexVarNloc>
    <IndexCoeffNloc NLocMod_num="1"> 3 4 5   </IndexCoeffNloc>

  </Material>


<!-- MATERIAL 2: cf, Miehe2010&Nguyen2015 -->
  <Material numM="2" Lib="behavior/libUmatAmitex.so" Law="elasisoPF" >
    <Coeff Index="1" Type="Constant" Value="121.15e9"/>
    <Coeff Index="2" Type="Constant" Value="80.77e9"/> 
    <Coeff Index="3" Type="Constant" Value="0"/>      <!--viscous parameter [Pa*s] -->
    <Coeff Index="4" Type="Constant" Value="0.015e-3"/>   <!--characteristic length, lc [m] -->
    <Coeff Index="5" Type="Constant" Value="2.7e3"/>  <!--fracture energy, gc [N/m]-->

    <!--define the initial values of internal variables-->
    <IntVar Index="1" Type="Constant" Value="0."/> <!--damage variable-->
    <IntVar Index="2" Type="Constant" Value="0."/> <!--history variable (output umat)-->
    <IntVar Index="3" Type="Constant" Value="0."/> <!--history variable (max value)-->

    <!--Indices of non local variables nloc for the Non local model -->
    <IndexVarNloc   NLocMod_num="1"> 1 2     </IndexVarNloc>
    <IndexCoeffNloc NLocMod_num="1"> 3 4 5   </IndexCoeffNloc>

  </Material>

<!-- NON-LOCAL MODELING -->
       <!-- Each Non-local model (NlocMod_num) : --> 
       <!--                  takes internal variables (nloc) as input        -->
       <!--                  gives back internal variables (gnloc) as output -->
                <!-- Nnloc : number of input internal variables (nloc),                                               -->
                <!--         their index are given in material.xml, see <IndexVarNloc NlocMod_num="1"/>               -->
                
                <!-- Ngnloc : number of output internal variables (gnloc),                                            -->
                <!--         their index are the last Ngnloc indices of the internal vector (IntVar in material.xml)  -->
               
      <!-- here, the non-local model is implemented in user_nloc1 (i.e. user_nloc_before1, user_nloc_after1 and init_user_nloc_variables1) -->
      <!-- it uses 2 variables as input (d and H) and 1 as output (max(H)) -->
      <!-- it is based on 3 materials : 1, 2 and 3 -->

  <Non_local_modeling NLocMod_num="1" Modelname= "user_nloc1" Nnloc="2" Ngnloc="1" Ncoeff_nloc="3" >    
       <numM Nmat="2"> 1 2 </numM>
  </Non_local_modeling>


</Materials>



